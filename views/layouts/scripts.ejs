<% const version = Date.now(); %>
<script src="/assets/vendor/apexcharts/apexcharts.min.js?v=<%= version %>"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js?v=<%= version %>"></script>
<script src="/assets/vendor/chart.js/chart.min.js?v=<%= version %>"></script>
<script src="/assets/vendor/echarts/echarts.min.js?v=<%= version %>"></script>
<script src="/assets/vendor/quill/quill.min.js?v=<%= version %>"></script>
<script src="/assets/vendor/tinymce/tinymce.min.js?v=<%= version %>"></script>
<script src="/assets/vendor/php-email-form/validate.js?v=<%= version %>"></script>

<script src="/assets/js/main.js"></script>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
   
    form.addEventListener('submit', function(e) {
        // Don't prevent default - let the normal form submission happen
        // e.preventDefault();
        
        // Add the CSRF token to the form if needed
        const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
        const csrfInput = document.createElement('input');
        csrfInput.type = 'hidden';
        csrfInput.name = 'csrf';
        csrfInput.value = csrfToken;
        this.appendChild(csrfInput);
        
        // Let the form submit normally, which will follow the server's redirect
        return true;
    });
});
</script>